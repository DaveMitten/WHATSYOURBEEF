<h1 class="page-header">Account page</h1>





<div class="row">

  <h3>Change account details</h3>

<hr>

  <form ng-submit="account.update()">

    <div class="form-group">
      <label>Username</label>
      <input ng-model="account.updatedUser.username" name="username" type="text" class="form-control" placeholder="Username" value="{{main.user.username}}">
    </div>

    <div class="form-group">
      <label>Email</label>
      <input ng-model="account.updatedUser.email" name="email" type="text" class="form-control" placeholder="Email" value="{{main.user.email}}">
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
  </form>

</div>

<h3>Your recipes</h3>
<div class="row">

  <div class="col-xs-6 col-sm-4 col-lg-3" ng-repeat="recipe in main.user.recipes">

    <div class="thumbnail" style="height: 450px;">
      <img src="{{recipe.images.small}}" alt="{{recipe.name}}">
      <div class="caption">
        <h3>{{recipe.name}}</h3>
        <!-- {{recipe}} -->
        <a ui-sref="recipesShow({id: recipe._id})">View</a>
        <a ui-sref="recipesEdit({id: recipe._id})">Edit</a>
      </div>
    </div>
  </div>

</div>
<hr>
<div class="row">

  <h3>New Recipe</h3>

  <div class="form-group">
    <label>Cuisine category</label>
    <select ng-model="account.newRecipeCategory" class="form-control">
      <option>Select one</option>
      <option ng-repeat="cuisine in account.cuisines track by $index" value="{{cuisine.name}}">{{cuisine.name}}</option>
    </select>
  </div>

  <form ng-submit="account.createRecipe()">

    <div class="form-group">
      <label>Name</label>
      <input ng-model="account.newRecipe.name" type="text" class="form-control" placeholder="Recipe name">
    </div>

    <div class="form-group">
      <label>Small Image URL</label>
      <input ng-model="account.newRecipe.images.small" type="text" class="form-control" placeholder="Small Image">
    </div>

    <!-- <div class="form-group">
      <label>Large Image URL</label>
      <input ng-model="account.newRecipe.images.large" type="text" class="form-control" placeholder="Large Image">
    </div> -->

    <button type="submit" class="btn btn-primary">Create</button>
    <hr>
  </form>
</div>

<div class="row">

  <div class="col-xs-12 col-sm-6">
    <form ng-show="account.newRecipe.ingredients.length > 0">
      <div ng-repeat="ingredient in account.newRecipe.ingredients track by $index" class="form-group">
        <label>Ingredient</label>
        {{ingredient}}
      </div>

      <button type="submit" class="btn btn-primary">Update</button>
    </form>

    <div class="form-group">
      <label>Measurement</label>
      <input ng-model="account.newIngredientMeasurement" type="text" class="form-control" placeholder="Measurement">
    </div>

    <form ng-submit="account.addIngredient()">
      <div class="form-group">
        <label>Ingredient</label>
        <input ng-model="account.newIngredient.name" type="text" class="form-control" placeholder="Ingredient">
      </div>

      <button type="submit" class="btn btn-primary">Add</button>
    </form>
  </div>

  {{account.newIngredient}}

  {{account.newIngredientMeasurement}}


  <div class="col-xs-12 col-sm-6">

    <form ng-show="account.newRecipe.instructions.length > 0">
      <div ng-repeat="instruction in account.newRecipe.instructions track by $index" class="form-group">
        <label>Instruction</label>
        {{instruction.content}}
      </div>
      <button type="submit" class="btn btn-primary">Update</button>
    </form>

    <form ng-submit="account.addInstruction()">

      <div class="form-group">
        <label>Instruction</label>
        <input ng-model="account.newInstruction.content" type="text" class="form-control" placeholder="Instruction">
      </div>

      <button type="submit" class="btn btn-primary">Add</button>
    </form>
  </div>

</div>
